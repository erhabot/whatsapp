"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseFileSize=exports.parseCookies=exports.stringifyCookies=exports.decryptSnapSave=exports.getDecodedSnapSave=exports.decodeSnapApp=exports.getEncodedSnapApp=exports.ScraperError=void 0;class ScraperError extends Error{constructor(e,r){super(e),this.name="ScraperError",this.date=new Date,this.message=e+"\n\nIf this is bug pls report to https://github.com/BochilTeam/scraper"}static createError(e,r){return new ScraperError(e,r)}static createErrorArgs(e,r){return new ScraperError("Invalid input args: "+e,r)}}function getEncodedSnapApp(e){return e.split("decodeURIComponent(escape(r))}(")[1].split("))<\/script>")[0].split(",").map((e=>e.replace(/"/g,"").trim()))}function decodeSnapApp(...e){function r(e,r,t){const p="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ+/".split(""),o=p.slice(0,r),n=p.slice(0,t);let s=e.split("").reverse().reduce((function(e,t,p){if(-1!==o.indexOf(t))return e+o.indexOf(t)*Math.pow(r,p)}),0),i="";for(;s>0;)i=n[s%t]+i,s=(s-s%t)/t;return i||"0"}return function(e,t,p,o,n,s){s="";for(let t=0,i=e.length;t<i;t++){let i="";for(;e[t]!==p[n];)i+=e[t],t++;for(let e=0;e<p.length;e++)i=i.replace(new RegExp(p[e],"g"),e.toString());s+=String.fromCharCode(r(i,n,10)-o)}return decodeURIComponent(encodeURIComponent(s))}(...e)}function getDecodedSnapSave(e){return e.split('"download-section").innerHTML = "')[1].split('"; parent.document.getElementById("inputData").remove();')[0].replace(/\\(\\)?/g,"")}function decryptSnapSave(e){return getDecodedSnapSave(decodeSnapApp(...getEncodedSnapApp(e)))}function stringifyCookies(e){return e.map((e=>{const[r,t]=e.split("="),[p]=t.split(";");return`${r}=${p}`})).join("; ")}function parseCookies(e){const r={};return e.split(";").forEach((e=>{const[t,p]=e.split("=");r[t.trim()]=p.trim()})),r}function parseFileSize(e){return parseFloat(e)*(/GB/i.test(e)?1e6:/MB/i.test(e)?1e3:/KB/i.test(e)?1:/B/i.test(e)?.1:0)}exports.ScraperError=ScraperError,exports.getEncodedSnapApp=getEncodedSnapApp,exports.decodeSnapApp=decodeSnapApp,exports.getDecodedSnapSave=getDecodedSnapSave,exports.decryptSnapSave=decryptSnapSave,exports.stringifyCookies=stringifyCookies,exports.parseCookies=parseCookies,exports.parseFileSize=parseFileSize;